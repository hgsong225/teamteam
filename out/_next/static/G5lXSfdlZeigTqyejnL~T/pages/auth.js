(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{359:function(e,t,n){__NEXT_REGISTER_PAGE("/auth",function(){return e.exports=n(360),{page:e.exports.default}})},360:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(5),s=n(146);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){function t(){var e,n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];return a=this,o=(e=l(t)).call.apply(e,[this].concat(u)),n=!o||"object"!==i(o)&&"function"!=typeof o?p(a):o,h(p(p(n)),"state",{user:{},email:"",password:"",password2:"",checkPassword:!1}),h(p(p(n)),"handleChange",function(e){n.setState(h({},e.target.name,e.target.value)),""!==n.state.password&&""!==n.state.password2&&n.state.password==n.state.password2&&n.setState({checkPassword:!0})}),h(p(p(n)),"signUp",function(e){e.preventDefault(),r.a.auth().createUserWithEmailAndPassword(n.state.email,n.state.password).then(function(e){console.log(e),n.setState({name:"",passwsord:"",passwsord2:"",checkPassword:!1})}).catch(function(e){console.log(e)})}),h(p(p(n)),"signIn",function(e){e.preventDefault(),r.a.auth().signInWithEmailAndPassword(n.state.email,n.state.password).then(function(e){console.log("로그인에 성공했습니다.",e),n.setState({name:"",password:""})}).catch(function(e){console.log(e)})}),n}var n,f,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,a["Component"]),n=t,(f=[{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;r.a.auth().onAuthStateChanged(function(t){t?e.setState({user:t}):e.setState({user:null})})}},{key:"signOut",value:function(){r.a.auth().signOut(),console.log("로그아웃 완료")}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(s.a,null),this.state.user?"로그인 완료":"로그인 필요","이메일로 로그인",o.a.createElement("form",{onSubmit:this.signIn},o.a.createElement("input",{placeholder:"이메일",value:this.state.email,onChange:this.handleChange,name:"email",type:"email"}),o.a.createElement("input",{placeholder:"비밀번호",value:this.state.password,onChange:this.handleChange,name:"password",type:"password"}),o.a.createElement("button",null,"로그인")),"회원가입",o.a.createElement("form",{onSubmit:this.signUp},o.a.createElement("input",{placeholder:"이메일",value:this.state.email,onChange:this.handleChange,name:"email",type:"email"}),o.a.createElement("input",{placeholder:"비밀번호",value:this.state.password,onChange:this.handleChange,name:"password",type:"password"}),o.a.createElement("input",{placeholder:"비밀번호를 한 번 더 입력해주세요.",value:this.state.password2,onChange:this.handleChange,name:"password2",type:"password"}),o.a.createElement("button",{type:"submit"},"완료")),o.a.createElement("button",{onClick:this.signOut},"로그아웃"))}}])&&u(n.prototype,f),d&&u(n,d),t}();t.default=f}},[[359,0,1]]]);