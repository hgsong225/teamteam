(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{149:function(e,t,n){"use strict";var r=n(3),o=n.n(r),a=n(0),i=n.n(a),s=n(146),c=n(152),l=n(151),u=function(e){var t=e.children;return i.a.createElement("div",{className:"jsx-991501986 main-container"},i.a.createElement(o.a,{styleId:"991501986",css:[".main-container.jsx-991501986{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;min-height:100%;}"]}),i.a.createElement(l.a,null),t)};function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,n=!(o=(e=m(t)).call.apply(e,[this].concat(i)))||"object"!==p(o)&&"function"!=typeof o?b(r):o,h(b(b(n)),"state",{}),h(b(b(n)),"toggleMenu",function(){var e="sidebar-left-container",t=document.getElementById(e),n=document.getElementById("mask");console.log(t.className),console.log(n.className),t.className==="".concat(t.className.split(" ")[0]," ").concat(e," toggle")?(t.className="".concat(t.className.split(" ")[0]," ").concat(e),n.className="".concat(t.className.split(" ")[0]," ").concat("mask")):(t.className+=" toggle",n.className+=" toggle")}),n}var n,r,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,a["Component"]),n=t,(r=[{key:"render",value:function(){console.log("Layout에서 render() 실행");var e=this.props.selectedLocation;return i.a.createElement("div",{className:"jsx-1031362383"},i.a.createElement(o.a,{styleId:"1031362383",css:[".container.jsx-1031362383{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;padding-bottom:80px;}",".content.jsx-1031362383{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-left:304px;margin-right:80px;margin-top:65px;width:auto;-webkit-transition:margin .5s ease-out;transition:margin .5s ease-out;}",".content.jsx-1031362383 aside.jsx-1031362383{border-left:1px solid gray;}","nav.jsx-1031362383{margin-top:65px;height:100vh;position:fixed;overflow-y:hidden;background-color:#fff;}","nav.jsx-1031362383:hover{overflow-y:scroll;}","nav.jsx-1031362383::-webkit-scrollbar-track{border-radius:10px;background-color:#f1f1f1;}","nav.jsx-1031362383::-webkit-scrollbar{width:8px;border-radius:10px;}","nav.jsx-1031362383::-webkit-scrollbar-thumb{border-radius:10px;}","nav.jsx-1031362383:hover.jsx-1031362383::-webkit-scrollbar-thumb{background-color:#e0e0e0;}","main.jsx-1031362383{-webkit-flex:7;-ms-flex:7;flex:7;padding:10px;}","@media screen and (max-width:375px){.sidebar-left-container.jsx-1031362383{margin-top:0;z-index:999;-webkit-transform:translateX(-304px);-ms-transform:translateX(-304px);transform:translateX(-304px);box-shadow:0 0 16px rgba(0,0,0,.28);-webkit-transition:-webkit-transform .5s ease-out;-webkit-transition:transform .5s ease-out;transition:transform .5s ease-out;}}","@media screen and (max-width:992px){.sidebar-left-container.jsx-1031362383{z-index:999;margin-top:0;-webkit-transform:translateX(-304px);-ms-transform:translateX(-304px);transform:translateX(-304px);box-shadow:0 0 16px rgba(0,0,0,.28);-webkit-transition:-webkit-transform .5s ease-out;-webkit-transition:transform .5s ease-out;transition:transform .5s ease-out;}.sidebar-left-container.toggle.jsx-1031362383{-webkit-transform:translateX(0px);-ms-transform:translateX(0px);transform:translateX(0px);}.content.jsx-1031362383{margin-left:0;margin-right:0;}main.jsx-1031362383{padding:0 8px;}}"]}),i.a.createElement("div",{className:"jsx-1031362383 container"},i.a.createElement("div",{className:"jsx-1031362383 header"},i.a.createElement(s.a,null)),i.a.createElement("section",{className:"jsx-1031362383"},i.a.createElement("nav",{id:"sidebar-left-container",className:"jsx-1031362383 sidebar-left-container"},i.a.createElement(c.a,{user:this.props.user,selectLocation:this.props.selectLocation,selectedLocation:e})),i.a.createElement("div",{className:"jsx-1031362383 content"},i.a.createElement("main",{className:"jsx-1031362383 view-container"},i.a.createElement(u,{children:this.props.children})),i.a.createElement("aisde",{className:"jsx-1031362383"}),i.a.createElement("div",{id:"mask",onClick:this.toggleMenu,className:"jsx-1031362383 mask"})))))}}])&&f(n.prototype,r),l&&f(n,l),t}();h(y,"defaultProps",{user:{},selectedLocation:{}});t.a=y},435:function(e,t,n){__NEXT_REGISTER_PAGE("/post",function(){return e.exports=n(466),{page:e.exports.default}})},466:function(e,t,n){"use strict";n.r(t);var r=n(9),o=n.n(r),a=n(0),i=n.n(a),s=n(7),c=n.n(s),l=n(4),u=n.n(l),p=n(5),f=n(149),m=n(3),d=n.n(m),b=n(6),h=n.n(b);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,o=(e=v(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==y(o)&&"function"!=typeof o?j(r):o,k(j(j(n)),"handlePrompt",function(e){var t=prompt("입금자명을 입력하세요.");return console.log(t),null==t?(e.preventDefault(),void alert("신청 취소")):0===t.length?n.handlePrompt(e):void(confirm("입금자명: '".concat(t,"' 님이 맞습니까? \n입금자명을 잘 확인해주세요."))?(e.preventDefault(),n.props.applyMatch(e,t)):(e.preventDefault(),alert("신청 취소"),n.props.applyMatch("")))}),k(j(j(n)),"dateAscending",function(e,t){return new Date(e.start_time).getTime()>new Date(t.start_time).getTime()?1:-1}),k(j(j(n)),"convertDay",function(e){return["일","월","화","수","목","금","토"][e]}),n}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,a["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e,t=(e=o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("PostList에서 componentDidMount 실행");case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){x(a,r,o,i,s,"next",e)}function s(e){x(a,r,o,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;console.log("PostList에서 render 실행");var t=this.props,n=t.posts,r=t.selectedFilter;return i.a.createElement("div",{className:"jsx-2170784091"},i.a.createElement(d.a,{styleId:"2170784091",css:["ul.jsx-2170784091{list-style-type:none;margin:0;padding:0;}",".match.jsx-2170784091{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;width:100%;height:5rem;padding:6px 0;background-color:#eeeeee;margin-bottom:1rem;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".match.jsx-2170784091:hover{border:1px solid #bbdefb;}",".match_date.jsx-2170784091{margin-top:2rem;font-size:1.2rem;font-weight:600;color:#424242;}",".match-time.jsx-2170784091{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:80%;padding:0 6px;color:#424242;font-size:1.5rem;font-weight:600;-webkit-letter-spacing:0.25rem;-moz-letter-spacing:0.25rem;-ms-letter-spacing:0.25rem;letter-spacing:0.25rem;}",".match-place.jsx-2170784091{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:80%;padding:0 6px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;color:#212121;}",".place.jsx-2170784091{margin:0;padding-bottom:0.5rem;width:100%;font-size:1rem;}",".match-type.jsx-2170784091{margin:0;width:100%;font-size:0.8rem;color:#757575;}",".match-apply.jsx-2170784091{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 6px;}",".match-apply-button.jsx-2170784091{z-index:1;margin:0;cursor:pointer;-webkit-text-decoration:none;text-decoration:none;border:none;background-color:#2196f3;color:white;padding:1px 40px;}",".apply.jsx-2170784091,.price.jsx-2170784091{margin:0;}",".apply.jsx-2170784091{margin-top:0.5rem;font-size:1rem;}",".price.jsx-2170784091{margin-top:0.5rem;margin-bottom:0.5rem;}",".match-apply-button.jsx-2170784091:hover{background-color:#42a5f5;}","@media screen and (max-width:457px){.match-apply-button.jsx-2170784091{padding:1px 20px;}}","@media screen and (max-width:375px){.match-apply-button.jsx-2170784091{padding:1px 20px;}}"]}),i.a.createElement("ul",{className:"jsx-2170784091"},n.length>0?n.sort(this.dateAscending).map(function(t,o){if("전체"==r&&null!=t.idmatch){var a=new Date(t.start_time).getFullYear(),s=new Date(t.start_time).getMonth(),c=new Date(t.start_time).getDate(),l=o>=1&&new Date(a,s,c).getTime()==new Date(new Date(n[o-1].start_time).getFullYear(),new Date(n[o-1].start_time).getMonth(),new Date(n[o-1].start_time).getDate()).getTime();return i.a.createElement("li",{className:"jsx-2170784091 match-list"},1==l||i.a.createElement("h3",{className:"jsx-2170784091 match_date"},t.start_time.slice(5,7),"월 ",t.start_time.slice(8,10),"일 ",e.convertDay(new Date(t.start_time).getDay()),"요일"),i.a.createElement(h.a,{prefetch:!0,key:t.idpost,href:{pathname:"/match",query:{id:t.idpost}}},i.a.createElement("div",{className:"jsx-2170784091 match"},i.a.createElement("div",{className:"jsx-2170784091 match-time"},t.start_time.slice(11,16)),i.a.createElement("div",{className:"jsx-2170784091 match-place"},i.a.createElement("p",{className:"jsx-2170784091 place"},t.place_name),i.a.createElement("p",{className:"jsx-2170784091 match-type"},i.a.createElement("span",{className:"jsx-2170784091 "},t.sports_category)," ",t.match_type," : ",t.match_type)),i.a.createElement("div",{className:"jsx-2170784091 match-apply"},null!==e.props.user&&t.hostID!==e.props.user.data[0].iduser&&(void 0===t.match_has_users||t.match_has_users.filter(function(t){return t.iduser===e.props.user.data[0].iduser&&"신청취소"!==t.applicant_status}).length<1)&&i.a.createElement("button",{onClick:e.handlePrompt,name:t.idmatch,type:"submit",value:"신청하기",className:"jsx-2170784091 match-apply-button"},i.a.createElement("p",{className:"jsx-2170784091 apply"},"신청하기"),i.a.createElement("p",{className:"jsx-2170784091 price"},t.match_fee,"원")),null!==e.props.user&&t.hostID===e.props.user.data[0].iduser&&i.a.createElement("button",{onClick:e.handlePrompt,name:t.idmatch,type:"submit",value:"수정",className:"jsx-2170784091 match-edit-button"},i.a.createElement("p",{className:"jsx-2170784091 apply"},"경기 수정")),null!==e.props.user&&t.match_has_users.filter(function(t){return t.iduser===e.props.user.data[0].iduser&&"신청취소"!==t.applicant_status}).length>0&&i.a.createElement("button",{onClick:e.handlePrompt,name:t.idmatch,type:"submit",value:"신청취소",className:"jsx-2170784091 match-apply-cancel-button"},i.a.createElement("p",{className:"jsx-2170784091 apply"},"신청취소")),null===e.props.user&&i.a.createElement("p",{className:"jsx-2170784091"},"신청하기(비로그인)")))))}}):i.a.createElement("p",{className:"jsx-2170784091"},"경기가 없습니다 ㅠㅠ")))}}])&&g(n.prototype,r),s&&g(n,s),t}();k(_,"defaultProps",{applyMatch:function(){},depositor:"",user:null,posts:[],postList:[],selectedFilter:"전체"});var E=_;function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return r=this,o=(e=N(t)).call.apply(e,[this].concat(s)),n=!o||"object"!==P(o)&&"function"!=typeof o?S(r):o,F(S(S(n)),"updateRenderFilter",function(){var e=n.props,t=(e.selectedFilter,e.filterList.map(function(e,t){return i.a.createElement("div",{key:t},i.a.createElement("button",{onClick:n.props.handleFilter,value:e.name},e.name))}));n.props.renderFilter(t)}),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,a["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){console.log("PostFilter에서 componentDidMount 실행"),this.updateRenderFilter()}},{key:"render",value:function(){var e=this.props,t=e.filterList,n=e.selectedFilter,r=e.renderFilterList;return i.a.createElement("div",null,r,t.map(function(e){return n==e.name&&e.desc}))}}])&&O(n.prototype,r),o&&O(n,o),t}();F(D,"defaultProps",{selectedFilter:"전체",renderFilterList:[]});var M=D;function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(255);var R=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return r=this,a=(e=A(t)).call.apply(e,[this].concat(s)),n=!a||"object"!==T(a)&&"function"!=typeof a?I(r):a,X(I(I(n)),"state",{user:null,depositor:"",willBeAppliedMatch:[],postList:[],selectedFilter:"전체",filterList:[],renderFilterList:[]}),X(I(I(n)),"handleFilter",function(e){n.setState({selectedFilter:e.target.value})}),X(I(I(n)),"renderFilter",function(e){n.setState({renderFilterList:e})}),X(I(I(n)),"renderPosts",function(e){console.log("Posts에서 renderPosts 실행"),n.setState({postList:e})}),X(I(I(n)),"getState",function(){return n.state}),X(I(I(n)),"applyMatch",function(){var e,t=(e=o.a.mark(function e(t,r){var a,i,s,l,p,f;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.props,i=a.user,s=a.posts,null!==i){e.next=3;break}return e.abrupt("return",c.a.push("/sign-in"));case 3:console.log(i,t.target,r),null!==i&&void 0!==t.target.name&&(l=t.target.name,p=s.filter(function(e){return e.idmatch==l}),console.log(i,l,p),p.length>0&&(f={idmatch:p[0].idmatch,uid:i.uid,depositor:r,match_has_user_fee:p[0].match_fee},u.a.post("http://localhost:3333/api/match/apply",{data:f}).then(function(e){console.log(e.data),alert("신청 완료")}).catch(function(e){console.log(e)})));case 5:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){C(a,r,o,i,s,"next",e)}function s(e){C(a,r,o,i,s,"throw",e)}i(void 0)})});return function(e,n){return t.apply(this,arguments)}}()),n}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,a["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){this.props.selectedLocation;console.log("Posts에서 componentDidMount 실행")}},{key:"render",value:function(){console.log("Posts에서 render() 실행");var e=this.state,t=e.postList,n=e.filterList,r=e.selectedFilter,o=e.renderFilterList,a=this.props,s=a.url;a.selectedLocation;return console.log("url in postjs",s),console.log("this props in Post js",this.props),i.a.createElement("div",{className:"jsx-1904818145 posts-container"},i.a.createElement(d.a,{styleId:"1904818145",css:[".posts-container.jsx-1904818145{width:100%;max-width:720px;}",".sub-title.jsx-1904818145{font-size:1rem;}"]}),i.a.createElement("h2",{className:"jsx-1904818145 title"},"다가오는 매치"),i.a.createElement("p",{name:"mainTitle",className:"jsx-1904818145 sub-title"},s.query.sigungu?s.query.location+" ":s.query.location,s.query.sigungu),"세종특별자치시"===s.query.location&&i.a.createElement("div",{className:"jsx-1904818145 posts-sub-container"},i.a.createElement(M,{handleFilter:this.handleFilter,renderFilter:this.renderFilter,filterList:n,selectedFilter:r,renderFilterList:o}),i.a.createElement(E,{renderPosts:this.renderPosts,applyMatch:this.applyMatch,user:this.props.user,posts:this.props.posts,postList:t,selectedFilter:r,depositor:this.props.depositor})),s.query.sigungu&&"세종특별자치시"!==s.query.location?i.a.createElement("div",{className:"jsx-1904818145 posts-sub-container"},i.a.createElement(M,{handleFilter:this.handleFilter,renderFilter:this.renderFilter,filterList:n,selectedFilter:r,renderFilterList:o}),i.a.createElement(E,{renderPosts:this.renderPosts,applyMatch:this.applyMatch,user:this.props.user,posts:this.props.posts,postList:t,selectedFilter:r,depositor:this.props.depositor})):"하위 지역을 선택하세요.")}}])&&q(n.prototype,r),s&&q(n,s),t}();X(R,"defaultProps",{user:null,selectedLocation:{}});var B=R;function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function Y(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){J(a,r,o,i,s,"next",e)}function s(e){J(a,r,o,i,s,"throw",e)}i(void 0)})}}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return r=this,a=(e=K(t)).call.apply(e,[this].concat(s)),n=!a||"object"!==G(a)&&"function"!=typeof a?U(r):a,V(U(U(n)),"state",{user:null,selectedLocation:{},posts:[]}),V(U(U(n)),"isEmptyObj",function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}),V(U(U(n)),"authListener",function(){p.a.auth().onAuthStateChanged(function(e){if(e){var t={uid:e.uid};u.a.get("http://localhost:3333/api/auth/user",{params:t}).then(function(t){var r=t.data;e.data=r,n.setState({user:e})}).catch(function(e){console.log(e)})}else n.setState({user:null}),c.a.push("/sign-in")})}),V(U(U(n)),"getState",Y(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.state);case 1:case"end":return e.stop()}},e,this)}))),V(U(U(n)),"selectLocation",function(){var e=Y(o.a.mark(function e(t){var r,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({selectedLocation:t});case 2:return e.next=4,n.getState();case 4:return r=e.sent,e.next=7,console.log("123123123123",r);case 7:return e.next=9,n.getLocationBasedPosts(n.state.selectedLocation);case 9:return e.next=11,n.getState();case 11:return a=e.sent,e.next=14,console.log("다음",a);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),V(U(U(n)),"getLocationBasedPosts",function(){var e=Y(o.a.mark(function e(t){var r,a,i,s,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("getLocationBasedPosts 실행"),console.log(t),n.isEmptyObj(t)){e.next=12;break}if(r=U(U(n)),a=t.sido_name,i=t.sigungu_name,s=null!=i,console.log(s),s){e.next=10;break}return e.abrupt("return",r.setState({posts:[]}));case 10:c={sido_name:a,sigungu_name:i},u.a.get("http://localhost:3333/api/post/location",{params:c}).then(function(e){r.setState({posts:e.data}),console.log(e.data)}).catch(function(e){console.log(e)});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),n}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(t,a["Component"]),n=t,r=[{key:"componentDidMount",value:function(){console.log("post.js 에서 componentDidMount 실행");var e={sido_name:this.props.url.query.location,sigungu_name:this.props.url.query.sigungu};this.authListener(),this.selectLocation(e)}},{key:"render",value:function(){console.log("post.js에서 render() 실행");var e=this.state,t=e.user,n=e.selectedLocation,r=e.posts,o=(e.myMatch,e.myApplicationMatch,this.props.url);return console.log("url",o),i.a.createElement(f.a,{selectLocation:this.selectLocation,selectedLocation:n},i.a.createElement(B,{url:o,user:t,selectedLocation:n,posts:r}))}}],s=[{key:"getInitialProps",value:function(){var e=Y(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.req,e.abrupt("return",n?{from:"server"}:{from:"client "});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],r&&H(n.prototype,r),s&&H(n,s),t}();t.default=W}},[[435,0,1,2]]]);